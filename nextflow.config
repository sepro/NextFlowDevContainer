// Nextflow configuration file

// Default parameters
params {
    // Number of files to create
    num_files = 5
    
    // Output directory for created files
    output_dir = 'output'
    
    // Help message
    help = false
}

// Process configuration
process {
    // Default process settings
    executor = 'local'
    cpus = 1
    memory = '1 GB'
    time = '1h'
    
    // Error handling
    errorStrategy = 'retry'
    maxRetries = 2
}

// Executor configuration
executor {
    name = 'local'
    cpus = 4
    memory = '8 GB'
}

// Docker configuration (optional)
docker {
    enabled = false
    runOptions = '-u $(id -u):$(id -g)'
}

// Singularity configuration (optional)
singularity {
    enabled = false
}

// Report configuration - redirect to log folder
timeline {
    enabled = true
    file = 'log/timeline.html'
}

report {
    enabled = true
    file = 'log/report.html'
}

trace {
    enabled = true
    file = 'log/trace.txt'
}

dag {
    enabled = true
    file = 'log/dag.html'
}

// Manifest
manifest {
    name = 'nextflow-skeleton'
    author = 'Your Name'
    homePage = 'https://github.com/your-repo/nextflow-skeleton'
    description = 'A skeletal Nextflow pipeline for file creation and processing'
    mainScript = 'main.nf'
    nextflowVersion = '>=21.10.0'
    version = '1.0.0'
}

// Display help message
if (params.help) {
    log.info"""
    ================================================================
    Nextflow Skeleton Pipeline
    ================================================================
    
    Usage:
        nextflow run main.nf [options]
    
    Options:
        --num_files <int>     Number of files to create (default: 5)
        --output_dir <string> Output directory for files (default: 'output')
        --help                Show this help message
    
    Example:
        nextflow run main.nf --num_files 10 --output_dir my_files
    
    ================================================================
    """.stripIndent()
    
    System.exit(0)
}